import{__awaiter as o}from"../node_modules/tslib/tslib.es6.mjs.js";import{useCallback as i}from"react";import{selectAudioTrackByID as e,selectVideoTrackByID as d,selectAudioTrackVolume as l,selectPermissions as n}from"@100mslive/hms-video-store";import{useHMSActions as t,useHMSStore as u}from"../primitives/HmsRoomProvider.js";import{logErrorHandler as m}from"../utils/commons.js";const v=(i,e,d)=>o(void 0,void 0,void 0,(function*(){if(e)try{yield i.setRemoteTrackEnabled(e.id,!e.enabled)}catch(o){d(o,"remoteToggle")}})),r=(r,s,a=m)=>{const c=t(),b=u(e(r)),f=u(d(s)),g=u(l(null==b?void 0:b.id)),p=u(n),j=(null==f?void 0:f.enabled)?null==p?void 0:p.mute:null==p?void 0:p.unmute,y=(null==b?void 0:b.enabled)?null==p?void 0:p.mute:null==p?void 0:p.unmute,V=i((()=>o(void 0,void 0,void 0,(function*(){yield v(c,b,a)}))),[c,b,a]),E=i((()=>o(void 0,void 0,void 0,(function*(){yield v(c,f,a)}))),[c,a,f]),h=i((o=>{b&&c.setVolume(o,b.id)}),[c,b]);return{isAudioEnabled:!!(null==b?void 0:b.enabled),isVideoEnabled:!!(null==f?void 0:f.enabled),volume:g,toggleAudio:b&&y?V:void 0,toggleVideo:"regular"===(null==f?void 0:f.source)&&j?E:void 0,setVolume:b?h:void 0}};export{r as useRemoteAVToggle};
//# sourceMappingURL=useRemoteAVToggle.js.map
